{"version":3,"file":"weather-app.js","mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA,MAAMA,OAAO,GAAG,kCAAhB;AACA,MAAMC,GAAG,GAAG,WAAZ;AACA,MAAMC,GAAG,GAAG,aAAZ;;AAEA,eAAeC,cAAf,GAAgC;EAC5B,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,uDAAsDJ,GAAI,QAAOC,GAAI,UAASF,OAAQ,EAAxF,CAA5B;EACA,MAAMM,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAAnB;EACAC,OAAO,CAACC,GAAR,CAAYH,IAAZ,EAH4B,CAK5B;;EACA,MAAMI,WAAW,GAAGJ,IAAI,CAACK,IAAL,CAAUC,IAAV,GAAiB,MAArC;EACA,MAAMC,QAAQ,GAAGP,IAAI,CAACK,IAAL,CAAUE,QAA3B;EACA,MAAMC,OAAO,GAAGR,IAAI,CAACQ,OAAL,CAAa,CAAb,EAAgBC,WAAhC;EAEAP,OAAO,CAACC,GAAR,CAAa,gBAAeC,WAAY,IAAxC;EACAF,OAAO,CAACC,GAAR,CAAa,aAAYI,QAAS,GAAlC;EACAL,OAAO,CAACC,GAAR,CAAa,YAAWK,OAAQ,EAAhC;AAEH,EAED;AACA;;;AAEAE,EAAE,CAACC,MAAH,CAAUC,iBAAV,CAA4B,4BAA5B,EAA0D;EACtDC,KAAK,EAAE,eAD+C;EAEtDC,IAAI,EAAE,OAFgD;EAGtDC,QAAQ,EAAE,QAH4C;EAItDC,IAAI,EAAE,UAAUC,KAAV,EAAiB;IACnB;IACA;IACA;IACA;IACA;IACApB,cAAc;IACdqB,WAAW,CAACrB,cAAD,EAAiB,QAAjB,CAAX,CAPmB,CAOoB;EAC1C,CAZqD;EAatD;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EAEAsB,IAAI,EAAE,YAAY;IACd,OAAOT,EAAE,CAACU,OAAH,CAAWC,aAAX,CACH,KADG,EAEH;MAAEC,SAAS,EAAE;IAAb,CAFG,EAGHZ,EAAE,CAACU,OAAH,CAAWC,aAAX,CACI,GADJ,EAEI;MAAEE,EAAE,EAAE;IAAN,CAFJ,EAGI,0CAHJ,EAII,8BAJJ,CAHG,EASHb,EAAE,CAACU,OAAH,CAAWC,aAAX,CACI,GADJ,EAEI;MAAEE,EAAE,EAAE;IAAN,CAFJ,EAGI,sBAHJ,CATG,EAcHb,EAAE,CAACU,OAAH,CAAWC,aAAX,CACI,GADJ,EAEI;MAAEE,EAAE,EAAE;IAAN,CAFJ,EAGI,kBAHJ,CAdG,EAmBHb,EAAE,CAACU,OAAH,CAAWC,aAAX,CACI,GADJ,EAEI;MAAEE,EAAE,EAAE;IAAN,CAFJ,EAGI,wBAHJ,CAnBG,CAAP;EAyBH;AAjDqD,CAA1D,E","sources":["webpack://uc-history-2022/./uc-blocks/weather-app.js"],"sourcesContent":["/**\n * \n * Weather App Block\n * \n *  \n */\n\n\n// wp.blocks.registerBlockType('ucblocks/weather-block', {\n//     title: 'Weather Block',\n//     icon: '',\n//     category: 'widgets',\n//     edit: function () {\n//         return wp.element.createElement(\n//             'div',\n//             { className: 'weather-block' },\n//             'Weather block'\n//         );\n//     },\n//     save: function () {\n//         return wp.element.createElement(\n//             'div',\n//             { className: 'weather-block' },\n//             wp.element.createElement(\n//                 'p',\n//                 { id: 'temperature' },\n//                 'Temperature: loading...'\n//             ),\n//             wp.element.createElement(\n//                 'p',\n//                 { id: 'humidity' },\n//                 'Humidity: loading...'\n//             ),\n//             wp.element.createElement(\n//                 'p',\n//                 { id: 'wind' },\n//                 'Wind: loading...'\n//             ),\n//             wp.element.createElement(\n//                 'p',\n//                 { id: 'conditions' },\n//                 'Conditions: loading...'\n//             )\n//         );\n//     },\n// });\n\n\nconst API_KEY = '49fd6140676349857149724d8baf9c2c';\nconst lat = '59.575350';\nconst lon = '-108.612220';\n\nasync function getWeatherData() {\n    const response = await fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&appid=${API_KEY}`);\n    const data = await response.json();\n    console.log(data)\n\n    // convert Kelvin to Celsius  \n    const temperature = data.main.temp - 273.15;\n    const humidity = data.main.humidity;\n    const weather = data.weather[0].description;\n\n    console.log(`Temperature: ${temperature}째C`);\n    console.log(`Humidity: ${humidity}%`);\n    console.log(`Weather: ${weather}`);\n\n}\n\n// getWeatherData();\n// setInterval(getWeatherData, 14400000); // call the function every 4 hours (14400000 milliseconds)\n\nwp.blocks.registerBlockType('ucblocktheme/weather-block', {\n    title: 'Weather Block',\n    icon: 'cloud',\n    category: 'common',\n    edit: function (props) {\n        // return (\n        //     <div>\n        //         <button onClick={getWeatherData}>Get Weather Data</button>\n        //     </div>\n        // );\n        getWeatherData();\n        setInterval(getWeatherData, 14400000); // call the function every 4 hours (14400000 milliseconds)\n    },\n    // save: function (props) {\n    //     const weatherData = getWeatherData();\n    //     return (\n    //         <div className=\"weather-block, wp-block\">\n    //             <p>Temperature: {weatherData.temperature}째C</p>\n    //             <p>Humidity: {weatherData.humidity}%</p>\n    //             <p>Weather: {weatherData.weather}</p>\n    //         </div>\n    //     );\n\n    save: function () {\n        return wp.element.createElement(\n            'div',\n            { className: 'weather-block' },\n            wp.element.createElement(\n                'p',\n                { id: 'temperature' },\n                'Temperature: {weatherData.temperature}째C',\n                'Temperature: {temperature}째C'\n            ),\n            wp.element.createElement(\n                'p',\n                { id: 'humidity' },\n                'Humidity: loading...'\n            ),\n            wp.element.createElement(\n                'p',\n                { id: 'wind' },\n                'Wind: loading...'\n            ),\n            wp.element.createElement(\n                'p',\n                { id: 'conditions' },\n                'Conditions: loading...'\n            )\n        );\n    },\n});\n"],"names":["API_KEY","lat","lon","getWeatherData","response","fetch","data","json","console","log","temperature","main","temp","humidity","weather","description","wp","blocks","registerBlockType","title","icon","category","edit","props","setInterval","save","element","createElement","className","id"],"sourceRoot":""}